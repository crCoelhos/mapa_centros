{% extends 'base.html' %}

{% load static %}

    {% block titulo %}
    <title>Centros</title>
    {% endblock %}
        
        {% load crispy_forms_tags %}

        {%block conteudo %}
            <h1 class="h3 mb-4 text-gray-800">Listagem de centros</h1>

            <hr>
                <hr>
                <table class="table table-bordered" id="dataListagens" width="100%" cellspacing="0">                    <thead >
                        <tr>
                            <th>Centro</th>
                            <th>Sigla</th>
                            <th>Cordenadas</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for item in object_list %}
                        <tr>
                            <td scope="row">{{ item.nome_centro}}</td>
                            <td>{{item.sigla}}</td>
                            <td>{{item.latitude}},{{item.longitude}}</td>
                            <td><a href="{% url 'update' item.pk %}"><button type="button" class="btn btn-warning btn-lg" width="50px" height="50px">Editar</button></a>
                            <a href="{% url 'deletar' item.pk %}"><i class="fa fa-trash btn-lg btn-danger" aria-hidden="true"></i></a><br></td>
                        </tr>

                        {% empty %}
                            nada foi registrado
                        {% endfor %}
                    </tbody>
                    
                </table>
        {% endblock %}
        {% block afterjs %}
    <script>
        $("select").change(function() {
            $(this).parent().submit();
        })
        </script>
        <script>
        $(document).ready(function() {
            var table = $('#dataListagens').DataTable({
            lengthChange: false,
            buttons: ['copy', 'excel', 'pdf', 'colvis']
            }) ;
            table.buttons().container()
            .appendTo('#dataListagens_wrapper .col-md-6:eq(0)');
        });
    </script>
{% endblock %}
